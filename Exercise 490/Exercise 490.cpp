#include <cstdio>
#pragma comment(linker, "/STACK:266777216")

typedef long long LL;

const int n=512;
int coef[n+1]={1, 1, 0, 999999997, 999999997, 999999854, 316, 999994847, 999998547, 
75, 23283, 999957030, 625688, 998524917, 12208279, 993258947, 
9779803, 941839166, 144815409, 855575150, 899490385, 227676050, 
869189170, 469426092, 509367101, 57134591, 195780494, 716004319, 
420324282, 173371829, 9120756, 554642394, 12324471, 461731154, 
967005412, 836092461, 15788813, 800568064, 184661741, 336670683, 
646508110, 963637700, 817563599, 947198891, 450984737, 190975111, 
46981579, 476523112, 686420957, 761956214, 842442838, 972791855, 
536429952, 622607577, 543513821, 286802692, 958943273, 39289956, 
751598076, 775796737, 943389903, 921610574, 618444250, 112412720, 
201807405, 392079978, 172470388, 322110120, 116101908, 405305760, 
956958040, 641875854, 475528385, 827150441, 754890837, 384194466, 
560852423, 296871405, 493850453, 321346935, 653734720, 770659335, 
667821688, 956411672, 349958611, 897965668, 654258788, 230415483, 
882813831, 25968516, 332444890, 790165032, 997864692, 944557927, 
557846909, 520435988, 424401467, 883406159, 382696741, 712179085, 
532732258, 592114909, 637026765, 86674219, 384087633, 570531827, 
60908690, 160581656, 594148388, 421151511, 263536800, 426524272, 
800560808, 480677920, 870217210, 597352073, 507232962, 808949587, 
111723762, 551514179, 112851312, 201810028, 355050214, 651450115, 
321187607, 537530473, 419867623, 729345432, 880238697, 179264396, 
871068904, 960931397, 919014402, 576120005, 682115214, 643373459, 
460959353, 604630497, 930641571, 423461091, 976665157, 551279365, 
678211407, 443685571, 360223791, 493848023, 25010903, 825201065, 
907622539, 684021391, 866844427, 929188575, 797278322, 103107806, 
47850429, 400071314, 694400716, 189187875, 192175514, 284734621, 
134477857, 640695160, 883199242, 391533797, 636092892, 760029752, 
637388574, 890765724, 956468760, 142590857, 879173135, 970056542, 
677353827, 264915601, 949572902, 268070668, 185887573, 481648477, 
298711854, 255062798, 737526268, 796546420, 578066717, 469689538, 
941585068, 599264456, 707666605, 180102011, 548558337, 521388130, 
629508256, 589733224, 73899792, 777540159, 576965860, 390750391, 
318022566, 741463523, 57725149, 622554057, 220174114, 384847382, 
412071639, 728136940, 411873482, 421613403, 591719979, 347172346, 
142508232, 745685818, 168624608, 795372035, 719998393, 702916806, 
3054377, 366195319, 441373814, 74277948, 141440495, 355906665, 
555105327, 775614821, 341992795, 598637776, 609812085, 838725942, 
511282734, 730965959, 759782952, 372221179, 130961628, 860389499, 
482913966, 516261600, 904610531, 266506420, 187338371, 569466906, 
865722732, 900760330, 740369339, 43384713, 123894557, 980054770, 
595181737, 195981843, 727109591, 61840181, 647832474, 748840995, 
835284818, 120219730, 659470189, 524950716, 763506648, 599618259, 
195703640, 173766461, 642335900, 488297301, 35210376, 156447818, 
501945444, 339641927, 615674999, 342698103, 172587313, 308435072, 
160371900, 478467033, 584030772, 706996022, 999806919, 707212127, 
277626075, 239846293, 122789649, 963452498, 629063851, 945120536, 
12835377, 50598330, 248151679, 73154159, 633909145, 499439242, 
214970180, 617116828, 745337829, 53434406, 663857938, 223973478, 
181539525, 995018785, 731412106, 79258745, 500981935, 480397240, 
284381818, 925901005, 165415047, 464055353, 531774122, 302856631, 
784223758, 516719642, 399132261, 18212526, 941637463, 733400796, 
890501875, 9786529, 280943967, 465021296, 313278291, 228537819, 
978023277, 430141773, 885484417, 298560366, 313612039, 561392984, 
873130637, 971178936, 369821218, 799545244, 655429368, 459867446, 
431109848, 447905748, 145119343, 409923433, 989292557, 143152012, 
957837701, 183141167, 77680079, 357858171, 840968075, 753518224, 
41827892, 959024907, 793535759, 801792289, 508410522, 916303295, 
974340078, 105196476, 511104526, 346406033, 717830625, 906066515, 
827598066, 610445421, 920783406, 721837794, 984367094, 478217031, 
172238833, 240805115, 789414662, 259331713, 14865138, 165721186, 
818808668, 450426025, 245190507, 945702835, 264614065, 908549020, 
258076492, 981244755, 844542769, 149697165, 628387100, 455751391, 
997435859, 373672051, 980314842, 983236098, 807214563, 671219126, 
353339268, 388310785, 270416426, 961475041, 585774267, 982305476, 
251136047, 267029436, 768071281, 187474704, 220451864, 608359214, 
437682281, 986811089, 82847645, 486495110, 231305127, 870323107, 
916425177, 142996051, 449733100, 262672555, 700902053, 509367381, 
597849113, 634553433, 633207729, 976146261, 559190490, 682494336, 
827111164, 253243861, 354993398, 87534354, 511381186, 524902938, 
534499369, 209918168, 901276184, 897094166, 268692149, 321251103, 
348719075, 361750734, 50751260, 87478026, 774038815, 650581376, 
535469682, 749314278, 175770283, 422468421, 354815311, 395387926, 
300562927, 771895243, 554996946, 200746164, 578748131, 759878189, 
261525928, 444035594, 40150584, 256913716, 798460077, 933893218, 
137253835, 329142087, 416265974, 328595463, 737012115, 393858996, 
667446910, 242992761, 416722747, 626716715, 603840084, 750127547, 
122108065, 501367979, 251327684, 361090536, 658894010, 146267677, 
738855672, 589774936, 531040945, 356986407, 930272690, 470555864, 
995306425, 170795285, 849671323, 209505181, 969976135, 873229116, 
457693855, 882968058, 264246763, 798598924, 259955192, 379924234, 
59844262, 433979032, 900015523, 193242263, 23587274, 475038123, 
111350126, 850164751, 511674061, 583818197, 297348499, 220838133, 
147006698, 32110198, 304636251, 339539478, 662085742, 44415119, 
25734932, 5077365, 902727, 38124, 999985392, 999995757, 999998754, 
999999776, 28, 999999992, 1};

const int MOD = 1000000000;
const LL MOD2 = 7LL * MOD * MOD;

struct matr {
  int _[n+1][n+1];
  matr(){
    for(int i=0;i<=n;i++)
      for(int j=0;j<=n;j++)
        _[i][j]=0;
  }
};

void operator*=(matr& a, const matr& b) {
  matr c;
  for(int i=0;i<=n;i++)
    for(int j=0;j<=n;j++) {
      LL cur=0;
      for(int k=0;k<=n;k++) {
        cur += LL(a._[i][k]) * b._[k][j];
        if(cur>=MOD2) cur-=MOD2;
      }
      c._[i][j] = cur % MOD;
    }
  a = c;
}

int solve(LL N) {
  int x[n+1]={0, 1, 1, 1, 2, 6, 14, 28, 56};
  int d[8]={2, -1, 2, 1, 1, 0, -1, -1};
  for(int i=9;i<=n;i++) {
    LL cur=0;
    for(int j=0;j<8;j++)
      cur+=d[j]*LL(x[i-1-j]);
    x[i] = cur % MOD;
    if(x[i]<0) x[i]+=MOD;
  }
  int s[n+1]={0};
  for(int i=1;i<=n;i++) {
    x[i] = LL(x[i]) * x[i] % MOD * x[i] % MOD;
    s[i] = (s[i-1] + x[i]) % MOD;
  }
  if(N<=n) return s[N];
  matr a,p;
  for(int i=0;i<=n;i++) p._[i][i]=1;
  a._[0][0]=1;
  for(int i=1;i<=n;i++) a._[0][i]=a._[1][i] = (MOD-coef[n-i])%MOD;
  for(int i=2;i<=n;i++) a._[i][i-1]=1;
  for(LL d = N-n;d;) {
    if(d%2) p*=a;
    if(d/=2) a*=a;
  }
  int res = LL(p._[0][0]) * s[n] % MOD;
  for(int i=1;i<=n;i++)
    res = (res + LL(p._[0][i]) * x[n+1-i]) % MOD;
  return res;
}

int main()
{
  printf("%d\n",solve(100000000000000LL));
  return 0;
}